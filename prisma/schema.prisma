generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum OrderStatus {
  PENDING_PAYMENT
  PAID
  IN_PROGRESS
  COMPLETED
  REFUNDED
}

model Order {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  status OrderStatus @default(PENDING_PAYMENT)

  customerEmail String
  customerName  String?

  recipientName String
  occasion      String
  genre         String
  mood          String
  story         String @db.Text

  amount          Int     @default(5900)
  stripeSessionId String? @unique

  finalAudioUrl String?
}

model Review {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())

  rating Int    @default(5)
  text   String @db.Text
  author String

  isPublished Boolean @default(false)
}
